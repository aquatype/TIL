# Hype Driven Development

[Hype Driven Development]를 전문 번역. 5년 전 개발자 커뮤니티에 돌아다니던 걸 읽고 금언처럼 여기는 글이다.  
왜 발췌 번역이 아니라 전문 번역을 했냐면, 읽다보면 부...이마가 얼얼해지는 구구절절 주옥같은 명문이라서.

---
개발팀이 소프트웨어 아키텍처나 기술스택을 결정할 때, 견고한 사전조사나 프로젝트에 미칠 영향에 대한 진지한 고려 대신
부정확한 여론, SNS의 대세, 아무튼 일반적으로 "핫하다"는 인식에 기반하여 결정을 내리게 되는 일이 자주 있다.
나는 이러한 트렌드의 유해함을 인지하고 이를 설레발 주도 개발(Hype Driven Development)이라고 명명했고,
"견고한 소프트웨어 공학(Solid Software Engineering)"이라고 부르는 더 전문적인 접근을 지지한다.
이제부터 이것들이 어떻게 작용하며, 대안으로는 어떤 것들이 있는지 알아보도록 하자.

### 신기술 - 새로운 희망

어떤 팀이 최신 유행중인 힙한 기술을 하나 골라 이를 프로젝트에 적용하기까지의 과정을 한번 살펴보자.
누군가가 블로그 글을 읽는다. '트위터에서 난리가 났어요, 우리는 방금 컨퍼런스에서 이 기술에 대해 엄청난 이야기를 듣고 왔어요'.
얼마 지나지 않아 팀은 이 삐까번쩍한 신기술(혹은 소프트웨어 설계 패러다임)을 사용하기 시작한다.
하지만 (기대했던 것처럼) 더 빠르게 더 좋은 프로덕트를 만드는 대신, 그들은 문제에 봉착한다.
개발속도는 점점 느려지고, 의욕은 점점 사라지고, 제대로 동작하는 다음 버전을 내놓는 것이 점점 어려워진다.
어떤 팀들은 새로운 기능을 배포할 시간도 없이 버그만 고치고 있기도 한다.
그리고 이 모든 일을 해결하는 데에는 언제나 '며칠 정도만 더' 일정이 필요하다.

### 설레발 주도 개발

설레발 주도 개발(HDD)가 당신의 프로젝트를 조지는 데에는 여러 가지 방법이 있다.

* **레딧 주도 개발** - 기술/아키텍처/디자인을 선택해야 할 때, 유명한 블로거가 쓴 글이나 레딧, 트위터, 페이스북, 깃헙,
기타등등의 SNS에서 핫한 것이 무엇인지를 갖고 결정한다.

* **컨퍼런스 주도 개발** - 컨퍼런스에 다녀온 뒤 사람들에게 무슨 일이 생기는 지 주의깊게 살펴보라. 그들은 뽕에 차 있다.
그리고 뽕은 양날의 검이다. 충분한 사전조사 없이 새롭고 핫한 라이브러리/프레임워크/설계방법론을 도입했다간 당신은 황천행 특급열차를 타게 될 수도 있다.

* **목소리 큰 놈 주도 개발** - 아는 것이 쥐뿔도 없는데도 불구하고 어떤 놈이 이 새로운 프레임워크/라이브러리/기술에 대해
하루 온종일 주구장창 떠들어댄 바람에, 결국 팀은 그걸 한번 사용해보기로 결정한다.

* **라이브러리/플러그인 주도 개발** - 직접 개발하면 단 몇 줄이면 해결할 수 있는 문제를 굳이 유명한 라이브러리나 플러그인,
프레임워크를 이용해서 해결하려고 한다.

* 나는 또한 설레발 주도 개발에 심취해 있는 개발자들이 주로 보이는 행동양식에 대해 지적하고 싶다: **스택오버플로우 주도 개발**.
자신이 제대로 이해하지도 못한 솔루션을 그저 스택오버플로우(를 비롯한 인터넷 전반)에서 복붙하는 것 말이다.

### 설레발 주도 개발은 스스로 불러온 재앙이다

설레발의 가장 큰 단점은 그것이 나쁜 결정을 이끌어내기 쉽다는 것이다. 잘못된 설계 결정, 잘못된 기술스택 결정은 종종
**몇 달, 심지어는 몇 년에 걸쳐 팀을 괴롭히곤 한다.** 최악의 경우는 이런 결정들이 소프트웨어 공학에서의 또다른 골치아픈 상황,
즉 **대규모 재개발**을 불러오기 쉽다는 것이다. 대체로 거의 항상 제대로 되지 않는 그거 말이다.

**모든 악의 근원은 SNS인 것 같아 보인다.** 새로운 아이디어가 충분한 테스트 없이, 사람들이 그 장단점을 제대로 이해할 시간조차 없이
빠르게 퍼져나가는 그 곳 말이다.

### 설레발의 해부도

대부분의 설레발은 비슷한 구조를 가지고 있다.

#### 1단계: 진짜 문제와 그 해결책

어떤 회사에서 특정한 문제가 발생한다. 그 회사의 어떤 팀은 이 문제에 대한 솔루션이 현재의 기술 스택이나 프로세스/설계 상에서는
해결이 불가능하다고 판단한다. 그래서 회사는 새로운 프레임워크/라이브러리 혹은 패러다임을 만들어서 곧 그 문제를 해결한다.

#### 2단계: 발표, 자랑, 그리고 키워드들

이 팀은 대단히 신이 나서 자기들의 성과를 방방곡곡에 자랑하고, 블로그 글을 쓰고 컨퍼런스에서 발표를 하고 다니기 시작한다.
대체로 그들이 이렇게까지 해서 해결한 문제가 사소한 것은 아니므로, 그들은 이 '사소하지 않은 문제에 대한 인상적인 결과'를
자랑스럽게 보여주고, 사람들은 이 신기술에 열광한다. 유일한 문제는, 그 열광하는 사람들 전부가 다 '그래서 문제가 정확히 무엇이었으며,
그 솔루션이란 구체적으로 어떤 것인지'를 완벽하게 이해할 수 있는 것은 아니라는 것이다. 아무튼 이건 말 그대로 '사소하지 않은 문제에 대한
사소하지 않은 해결책'이었고, 그런 것들을 트윗 하나, 짤막한 발표, 블로그 글 같은 걸로 전부 설명할 수 없으니까.
하지만 그러한 커뮤니케이션 방식을 취함으로써 핵심적인 메세지는 점점 흐려지고 몇몇 주요 키워드만 남게 된다.

#### 3단계: 추종자 탄생

온갖 형태의 설레발 주도 개발자들이 블로그 포스트를 읽고 컨퍼런스에도 참석한다. 곧 전세계의 많은 팀들이 이 신기술을 사용해보기 시작한다.
하지만 흐려진 메세지 때문에, 그들 중 일부는 이 신기술이 실제로는 그들의 문제를 아무것도 해결해주지 못함에도 불구하고
이 솔루션을 도입하기로 성급하게 결정한다. 어쨌거나 이 팀은 아직 신기술이 도움이 될 것이라고 기대하고 있으니까.

#### 4단계: 실망

스프린트가 진행되면서, 이 신기술은 사람들이 기대했던 것처럼 팀에 도움이 되기는 커녕 추가적인 일거리만 늘려나간다.
코드 재작성과 추가적인 학습이 수없이 많이 필요하고, 팀은 점점 속도가 떨어지고 관리자는 빡치기 시작한다. 모두가 속았다는 기분이 든다.

#### 5단계: 깨달음

마침내, 팀은 회고를 진행하며 신기술 도입에 대한 기회비용이 무엇이었는지, 그리고 정확하게 무엇을 해결하기 위해 썼더라면 좋았을 기술인지를
깨닫는다. 이제 그들은 한층 더 현명해졌다... 다음 설레발이 도래하기 전까지는.

### 설레발의 예시

설레발의 몇몇 예시와 그것이 어떻게 흘러갔는지를 살펴보도록 하자.

#### 예시 1: React

**1단계:** 페이스북이 문제를 마주한다. 페이스북처럼 복잡한 SPA에서는 상태 변환이 너무나도 많이 일어나서 추적하기가 어렵고, 따라서
앱을 안정적인 상태로 유지하는 것도 어려워진다.

**2단계:** 페이스북이 '함수형', '가상 DOM', '컴포넌트' 같은 있어보이는 키워드로 약을 팔기 시작한다.

**3단계:** 추종자들: 페이스북이 미래의 프론트엔드 프레임워크를 만들었어! 이제부터는 리액트로 죄다 갈아타자!

**4단계:** 어 잠깐만 이거 일이 너무 많고 ROI가 빠르게 안나오는데

**5단계:** 리액트는 실시간 알림이 많은 고오급 SPA를 만드는 데엔 적합하지만, 그보다 단순한 형태의 앱에는 굳이 필요하지 않은 물건이었다.

#### 예시 2: TDD는 죽었다

**1단계:** 루비온레일즈를 만든 David Heinemeier Hansson은, 레일즈가 객체지향을 충실히 반영한 구조가 아니라 TDD를 진행하기가
어렵다는 것을 깨닫고 실용적인 결정을 내린다: 테스트를 먼저 작성하지 않기로.

**2단계:** 그의 블로그 포스트와 컨퍼런스 발표에서 설레발이 시작된다. 설레발 키워드: 'TDD는 죽었다'

**3단계:** 테스트 때려치자! 우리 존잘님이 그렇게 말씀하셨다! 지금까지도 딱히 테스트를 쓴 건 아니지만 이젠 하는 척조차도 안 할래

**4단계:** 어 잠깐만 전보다도 제대로 되는 게 없고 코드가 버그투성이야

**5단계:** "TDD는 죽거나 살아있는 것이 아니다. TDD는 API 변경, 실무자 능력, 기존 디자인에 대한 잠재적 위험을 포함한 기회비용들을 대표한다" - Kent Beck

#### 예시 3: 마이크로서비스

**1단계:** 대규모의 모노리스 어플리케이션은 스케일링이 어렵다. 이걸 여러개의 서비스로 쪼갤 수 있다면
초당 처리량 측면에서 스케일링하는 것이 쉬워지고 여러 팀이 같이 스케일링을 진행해야 하는 상황에서도 편리해진다.

**2단계:** 설레발 키워드: '확장성', '느슨한 결합', '모노리스'

**3단계:** 죄다 서비스로 재작성하자! 우리 소스에 스파게티 코드가 많았던 건 모노리스 아키텍처를 사용하고 있었던 탓이야! 죄다 마이크로서비스로 다시 만들어야 해!

**4단계:** 어 시바 이제 앱을 개발하는게 이전보다 훨씬 느려진데다가 배포도 어렵고 여러 시스템에 걸쳐서 발생하는 버그를 추적하는 것도 개빡센데

**5단계:** 마이크로서비스는 팀에 높은 수준의 데브옵스 기술을 요구하며, 굳이 이걸 적용하지 않더라도 시스템과 팀을 확장하는 방법에 대한 올바른 투자를 통해 대체로 해결이 가능하다.
당신이 심각한 확장성 이슈를 겪기 전까지는 과투자인 것이다. 마이크로서비스는 추출되는 것이지 작성되는 것이 아니다. [이 글]도 참고하라.

#### 예시 4: NoSQL

**1단계:** SQL 데이터베이스들은 부하가 높거나 비정형 데이터들을 다루는 등의 상황에서 어려움이 있다. 전세계의 수많은 팀들이 차세대 데이터베이스 시스템을 개발중이다.

**2단계:** 설레발 키워드: '확장성', '빅데이터', '고성능'

**3단계:** 우리 데이터베이스는 너무 느리고 충분히 크지도 않아! 우리는 NoSQL이 필요해!

**4단계:** 테이블 조인이 필요하다고? 응 안돼. 단순한 SQL 쿼리문조차도 미친듯한 챌린지가 되어감. 개발은 느리고 우리의 핵심 문제는 여전히 해결되지 않았음.

**5단계:** NoSQL은 매우 특정한 문제(극도로 방대한 데이터, 비정형 데이터, 혹은 엄청나게 높은 부하)를 해결하기 위한 도구이다.
SQL은 사실 엄청난 도구이며, 솜씨좋게 잘만 사용한다면 부하가 높거나 방대한 데이터를 다룰 때에도 대단히 잘 동작한다.
NoSQL이 정말로 필요한 유즈케이스는 2016년 현재에도 꽤나 드문 편이다.

#### 예시 5: Elixir와 Phoenix (자신이 좋아하는 언어/프레임워크 쌍으로 치환해도 됨)

**1단계:** 루비 온 레일즈와 같은 웹 프레임워크는 고성능 앱, 분산처리 시스템, 웹소켓 같은 것들을 구현하는 데는 그다지 적합하지 않다.

**2단계:** 설레발 키워드: '확장성', '고성능', '분산 처리', '내결함성'

**3단계:** 오 세상에 우리 앱은 느려터졌는데 이걸 스케일링할 방법조차 없어, 당장 도입해야해!

**4단계:** 함수형 프로그래밍이랑 분산처리 배우는 거 생각보다 쉽지 않은데, 이제 우린 그냥 느린 게 아니라 존나 느림

**5단계:** 엘릭서와 피닉스는 훌륭한 프레임워크지만 배우는 데에 엄청난 노력이 든다. 만약 당신이 정말로 고성능 앱을 필요로 하는 경우라면, 그 기나긴 길의 끝에서는 분명히 보답받을 수 있을 것이다.

### 좋은 습관

이렇듯 인터넷의 카더라와 다른 사람들의 의견에만 의존할 수 없는 상황에서 우리는 어떻게 해야 똑똑한 결정을 내릴 수 있을까?

#### 결정하기 전 테스트하고 리서치하기

* **스파이크**를 활용한다. 블로그가 아닌 경험에서 배우도록 하라. 결정을 내리기 전 하루에서 이틀 정도 신기술을 이용해서 새 기능의 프로토타입을 만들어보고, 팀이 장단점을 분석하게 하라.
경쟁 관계에 있는 기술들을 몇 개 골라서 각각의 프로토타입을 만들어볼 수도 있을 것이다.

* **해커톤** 또한 팀이 서로 다른 기술에 대한 장단점을 파악하기에 좋은 방법이다. 하루에서 이틀 정도 팀 전체가 요즘 떠오르는 매력적인 신기술을 원없이 사용해보도록 한다.
팀이 자체적으로 똑똑한 결정을 내리고, 스스로의 경험을 통해 그 결정을 받아들일 수 있도록 해 준다.

#### 도입 시점 정하기

* **투자 대비 효율이 막대할 때**의 원칙을 따른다. 대부분의 기술들은 특정한 문제를 해결하기 위해 만들어졌는데, 당신은 그 특정한 문제를 겪고 있는가? 그게 정말로 큰 문제인가?
신기술을 도입하면 시간을 많이 아낄 수 있는가? 그 신기술의 효용이 진입장벽과 재작성에 드는 기회비용을 만회하는가? 만약 초기 개발이 두 배로 늦어진다면? 아니면 네 배는?
그래도 여전히 도입할 가치가 있는가?

* **훌륭한 팀에겐 좀 더 허용된다**. 새로운 가치를 받아들이는 데에 있어 정말로 남들보다 빠른 팀이 있을 수 있다.
자신이 쉽게 할 수 있는 일엔 빠르게 질려버리는 이러한 팀들이라면 새로운 기술을 더 자주 시험해볼 수도 있을 것이다. 그렇다고 해서 스파이크나 해커톤을 안 해도 된다는 뜻은 아니지만.  
반대로, 만약 팀이 새로운 가치를 받아들이는 데에 어려움을 겪고 있다면 신기술 도입은 좀 더 주의깊게 진행할 필요가 있다.

#### 올바른 능력 함양하기

* **탄탄한 기술적 배경**. 다양한 개발 패러다임을 알고, 프로그래밍의 이론(알고리즘이나 동시성 같은)를 이해하며, 좋은 개발 문화를 가진 사람들은 뽕에 잘 취하지 않는다.

* **경험**. 젊고 어린 개발자들일수록 설레발이 더 잘 먹힌다. 다년간의 경험을 통해 많은 기술을 겪어보고 여러 번 문제에 봉착해 본 사람일수록 기술을 선택할 때 균형잡힌 관점을 유지하곤 한다.


[Hype Driven Development]:https://blog.daftcode.pl/hype-driven-development-3469fc2e9b22
[이 글]:https://martinfowler.com/bliki/MicroservicePrerequisites.html
